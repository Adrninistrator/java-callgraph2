# 1. 输出文件格式

## 1.1. 类的注解

- 文件名

class_annotation

- 文件说明

类上指定的注解信息

若注解没有属性值，则相关字段为空

若注解有属性值，则每个属性值占一行

- 文件各列内容说明

|序号|说明|
|---|---|
|1|完整类名|
|2|注解类名|
|3|注解属性名称，空字符串代表无注解属性|
|4|注解属性类型，参考AnnotationAttributesTypeEnum类|
|5|注解属性值|

## 1.2. 类的信息

- 文件名

class_info

- 文件说明

类的信息，包括类名、access_flags、类文件的HASH值（MD5）、类所在的Jar包序号等

- 文件各列内容说明

|序号|说明|
|---|---|
|1|完整类名|
|2|类的access_flags|
|3|类文件的HASH值（MD5）|
|4|类所在的Jar包序号|

## 1.3. 引用的类

- 文件名

class_name

- 文件说明

项目中所有引用的类

文件中内容为#的行将各个类中引用的类分隔开；第一个类代表引用其他类的类，后面的类代表被引用的类

可能出现重复值

- 文件各列内容说明

|序号|说明|
|---|---|
|1|完整类名|

## 1.4. 类继承父类与实现接口时签名中的泛型类型

- 文件名

class_signature_ei1

- 文件说明

类在继承类或实现接口时，在签名中指定的泛型类型

例如：“TestClassWithSignature1 implements TestInterfaceWithSignature<String, Integer>”，对应信息中会包含 String、Integer

例如：“TestClassWithSignature2 extends TestAbstractClassWithSignature<TestArgument1, TestArgument2>”，对应信息中会包含 TestArgument1、TestArgument2

- 文件各列内容说明

|序号|说明|
|---|---|
|1|完整类名|
|2|类型，e:继承，i:实现|
|3|父类或接口的类名|
|4|序号，从0开始|
|5|1:下面的字段代表完整类名，0:下面的字段代表泛型名称|
|6|签名中的完整类名或泛型名称|

## 1.5. 类的签名中的泛型信息

- 文件名

class_signature_generics

- 文件说明

类的签名中的泛型信息

例如：“interface CommonMapper<S, T1> extends BaseMapper<T1>”，对应信息中会包含 S、T1

- 文件各列内容说明

|序号|说明|
|---|---|
|1|完整类名|
|2|序号，从0开始|
|3|签名中的泛型名称|
|4|签名中的泛型的父类类名|

## 1.6. 继承与实现相关信息

- 文件名

extends_impl

- 文件说明

类继承类，或类实现接口相关的信息

- 文件各列内容说明

|序号|说明|
|---|---|
|1|完整类名|
|2|类的access_flags|
|3|类型，e:继承，i:实现|
|4|父类或接口的完整类名|

## 1.7. 字段的注解

- 文件名

field_annotation

- 文件说明

字段上指定的注解信息

若注解没有属性值，则相关字段为空

若注解有属性值，则每个属性值占一行

- 文件各列内容说明

|序号|说明|
|---|---|
|1|完整类名|
|2|字段名称|
|3|注解类名|
|4|注解属性名称，空字符串代表无注解属性|
|5|注解属性类型，参考AnnotationAttributesTypeEnum类|
|6|注解属性值|

## 1.8. dto的非静态字段集合中涉及的泛型类型

- 文件名

field_generics_type

- 文件说明

dto的非静态字段集合中涉及的泛型类型，每个字段的集合中可能涉及多种泛型类型，会存在多条记录

- 文件各列内容说明

|序号|说明|
|---|---|
|1|完整类名|
|2|字段名|
|3|字段集合中的泛型类型序号，从0开始|
|4|字段集合中的泛型类型分类，J:JDK中的类型，C:自定义类型|
|5|字段集合中的泛型类型|

## 1.9. 字段信息

- 文件名

field_info

- 文件说明

字段的信息，包括字段名称、类型、修饰符等

- 文件各列内容说明

|序号|说明|
|---|---|
|1|完整类名|
|2|字段名称|
|3|字段类型|
|4|字段修饰符|
|5|基本类型，1:是，0:否|
|6|static标志，1:是，0:否|
|7|final标志，1:是，0:否|

## 1.10. 通过get/set方法关联的字段关系

- 文件名

field_relationship

- 文件说明

通过get/set方法关联的字段关系，包含了set方法及用于赋值的get方法，以及set方法所在的方法

- 文件各列内容说明

|序号|说明|
|---|---|
|1|关联关系id，从1开始|
|2|get方法调用序号，从1开始|
|3|set方法调用序号，从1开始|
|4|调用方，完整方法|
|5|调用方，源代码行号|
|6|get方法完整类名|
|7|get方法方法名|
|8|set方法完整类名|
|9|set方法方法名|
|10|关联关系是否有效，1:是，0:否|
|11|关联关系类型，参考 java-callgraph2 项目 JavaCGFieldRelationshipTypeEnum 类|

## 1.11. dto的get方法及字段

- 文件名

get_method

- 文件说明

dto的get方法的信息，包含对应的字段信息

- 文件各列内容说明

|序号|说明|
|---|---|
|1|完整类名|
|2|方法名|
|3|字段名|
|4|字段分类，J:JDK中的类型，C:自定义类型，GJ:集合的泛型类型，只涉及JDK中的类型，GC:集合的泛型类型，涉及自定义类型|
|5|字段类型|
|6|完整方法（类名+方法名+参数）|

## 1.12. 内部类信息

- 文件名

inner_class

- 文件说明

内部类相关的信息，包括内部类与对应的外部类

- 文件各列内容说明

|序号|说明|
|---|---|
|1|内部类完整类名|
|2|外部类完整类名|
|3|是否为匿名内部类，1:是，0:否|

## 1.13. jar包信息

- 文件名

jar_info

- 文件说明

解析的Jar包或目录相关的信息

- 文件各列内容说明

|序号|说明|
|---|---|
|1|Jar包类型，J: jar包，D: 目录，R: 解析结果文件保存目录|
|2|Jar包序号|
|3|Jar包完整路径|

## 1.14. Lambda表达式方法信息

- 文件名

lambda_method_info

- 文件说明

Lambda表达式方法调用相关信息

- 文件各列内容说明

|序号|说明|
|---|---|
|1|方法调用序号，从1开始|
|2|Lambda表达式被调用方完整方法（类名+方法名+参数）|
|3|Lambda表达式下一个被调用完整方法（类名+方法名+参数）|

## 1.15. 方法的注解

- 文件名

method_annotation

- 文件说明

方法上指定的注解信息

若注解没有属性值，则相关字段为空

若注解有属性值，则每个属性值占一行

- 文件各列内容说明

|序号|说明|
|---|---|
|1|完整方法（类名+方法名+参数）|
|2|注解类名|
|3|注解属性名称，空字符串代表无注解属性|
|4|注解属性类型，参考AnnotationAttributesTypeEnum类|
|5|注解属性值|

## 1.16. 方法参数的注解

- 文件名

method_arg_annotation

- 文件说明

方法参数上指定的注解信息

若注解没有属性值，则相关字段为空

若注解有属性值，则每个属性值占一行

- 文件各列内容说明

|序号|说明|
|---|---|
|1|完整方法（类名+方法名+参数）|
|2|参数序号，从0开始|
|3|注解类名|
|4|注解属性名称，空字符串代表无注解属性|
|5|注解属性类型，参考AnnotationAttributesTypeEnum类|
|6|注解属性值|

## 1.17. 方法参数集合中涉及的泛型类型

- 文件名

method_arg_generics_type

- 文件说明

方法参数中的集合中涉及的泛型类型

示例：”TestArgumentGenerics1.testAll(int i, List<TestArgument1> list)“

对于以上示例，会记录对应的方法，方法参数的集合类型，和其中涉及的泛型类型 List、TestArgument1

- 文件各列内容说明

|序号|说明|
|---|---|
|1|完整方法（类名+方法名+参数）|
|2|参数序号，从0开始|
|3|类型，t:参数类型，gt:参数泛型类型|
|4|类型序号，参数类型固定为0，参数泛型类型从0开始|
|5|泛型类型或参数类型类名|

## 1.18. 方法参数

- 文件名

method_argument

- 文件说明

方法参数的类型及名称，参数名称可能为空

- 文件各列内容说明

|序号|说明|
|---|---|
|1|完整方法（类名+方法名+参数）|
|2|参数序号，从0开始|
|3|参数类型|
|4|参数名称，可能为空|

## 1.19. 方法调用

- 文件名

method_call

- 文件说明

方法调用信息，每个方法调用占一行，包括调用者方法与被调用者方法

方法调用类型，详细信息见[call_type.md](call_type.md)

- 文件各列内容说明

|序号|说明|
|---|---|
|1|方法调用序号，从1开始|
|2|调用方，完整方法（类名+方法名+参数）|
|3|(方法调用类型)被调用方，完整方法（类名+方法名+参数）|
|4|调用方法源代码行号|
|5|调用方法返回类型|
|6|被调用对象类型，t:调用当前实例的方法，sf:调用静态字段的方法，f:调用字段的方法，v:调用其他变量的方法|
|7|被调用方法原始的返回类型|
|8|被调用方法实际的返回类型|
|9|调用方法Jar包序号|
|10|被调用方法Jar包序号|

## 1.20. 方法调用的信息

- 文件名

method_call_info

- 文件说明

方法调用信息，包括方法调用中被调用对象与参数可能的类型以及值

- 文件各列内容说明

|序号|说明|
|---|---|
|1|方法调用序号，从1开始|
|2|被调用对象或参数序号，|
|3|序号，从0开始，大于0代表有多种可能|
|4|类型，含义参考 JavaCGMethodCallInfoTypeEnum 类|
|5|是否为数组格式，1:是，0:否|
|6|值的类型，含义参考 JavaCGConstantTypeEnum 类|
|7|对应的值|
|8|调用方，完整方法（类名+方法名+参数）|

## 1.21. 方法调用使用方法调用返回值

- 文件名

method_call_method_call_return

- 文件说明

方法调用使用方法调用返回值信息，包括方法调用中被调用对象与参数可能使用的方法调用返回值信息

包括返回值被使用的被调用方法完整方法、方法调用序号等

- 文件各列内容说明

|序号|说明|
|---|---|
|1|方法调用序号，从1开始|
|2|被调用对象或参数序号，|
|3|序号，从0开始，大于0代表有多种可能|
|4|是否为数组格式，1:是，0:否|
|5|返回值被使用的方法调用序号，从1开始|
|6|被调用方，完整方法（类名+方法名+参数）|

## 1.22. 方法调用使用静态字段信息

- 文件名

method_call_static_field

- 文件说明

方法调用使用静态字段信息，包括方法调用中被调用对象与参数可能使用的静态字段信息

包括静态字段所在的类名、字段名称、字段类型等

- 文件各列内容说明

|序号|说明|
|---|---|
|1|方法调用序号，从1开始|
|2|被调用对象或参数序号，|
|3|序号，从0开始，大于0代表有多种可能|
|4|静态字段所在类完整类名|
|5|静态字段名称|
|6|静态字段类型|
|7|调用方，完整方法（类名+方法名+参数）|

## 1.23. 方法的catch信息

- 文件名

method_catch

- 文件说明

方法的catch，包括catch的异常类型，try与catch代码块开始的代码行号与结束的代码行号，try与catch代码块最小及最大的方法调用ID

- 文件各列内容说明

|序号|说明|
|---|---|
|1|完整方法（类名+方法名+参数）|
|2|catch捕获的异常类型|
|3|catch标志，switch: 编译器为switch生成的catch代码块，try-with-resource: 编译器为try-with-resource生成的catch代码块|
|4|try代码块开始代码行号|
|5|try代码块结束代码行号|
|6|try代码块最小方法调用ID|
|7|try代码块最大方法调用ID|
|8|catch代码块开始指令偏移量|
|9|catch代码块结束指令偏移量|
|10|catch代码块开始代码行号|
|11|catch代码块结束代码行号|
|12|catch代码块最小方法调用ID|
|13|catch代码块最大方法调用ID|

## 1.24. 方法的finally信息

- 文件名

method_finally

- 文件说明

方法的finally信息，包括try或catch开始的代码行号与结束的代码行号，try或catch代码块最小及最大的方法调用ID，finally开始的代码行号

- 文件各列内容说明

|序号|说明|
|---|---|
|1|完整方法（类名+方法名+参数）|
|2|当前的finally对应try或catch|
|3|try或catch代码块开始代码行号|
|4|try或catch代码块结束代码行号|
|5|try或catch代码块最小方法调用ID|
|6|try或catch代码块最大方法调用ID|
|7|finally代码块开始代码行号|

## 1.25. 方法的信息

- 文件名

method_info

- 文件说明

方法的信息，包括完整方法、access_flags、返回类型、方法指令的HASH值（MD5）等

- 文件各列内容说明

|序号|说明|
|---|---|
|1|完整方法（类名+方法名+参数）|
|2|方法的access_flags|
|3|返回类型类名|
|4|方法指令的HASH值（MD5），可能为空字符串|
|5|方法所在的Jar包序号|

## 1.26. 方法代码行号

- 文件名

method_line_number

- 文件说明

方法代码行号信息，包括起始行号与结束行号

- 文件各列内容说明

|序号|说明|
|---|---|
|1|完整方法（类名+方法名+参数）|
|2|起始代码行号|
|3|结束代码行号|

## 1.27. 方法返回值对应的方法序号

- 文件名

method_return_arg_seq

- 文件说明

方法返回值对应的方法参数序号信息，即调用方法以当前方法的参数作为自己的返回值时，记录对应关系

- 文件各列内容说明

|序号|说明|
|---|---|
|1|完整方法（类名+方法名+参数）|
|2|方法返回值对应的方法参数序号，从0开始|
|3|是否返回等值转换前的方法参数，1:是，0:否|

## 1.28. 方法返回值对应的方法调用ID

- 文件名

method_return_call_id

- 文件说明

方法返回值对应的方法调用序号信息，即调用方法以某个被调用方法的返回值作为自己的返回值时，记录两个方法的对应关系

- 文件各列内容说明

|序号|说明|
|---|---|
|1|完整方法（类名+方法名+参数）|
|2|方法返回值对应的方法调用序号，从1开始|
|3|是否返回等值转换前的方法调用，1:是，0:否|

## 1.29. 方法返回集合中涉及的泛型类型

- 文件名

method_return_generics_type

- 文件说明

方法返回类型为集合时涉及的泛型类型

示例：”Map<Integer, String> test2()“

对于以上示例，会记录对应的方法，以及方法返回的集合类型，和其中涉及的泛型类型 Map、Integer、String

- 文件各列内容说明

|序号|说明|
|---|---|
|1|完整方法（类名+方法名+参数）|
|2|类型，t:参数类型，gt:参数泛型类型|
|3|类型序号，参数类型固定为0，参数泛型类型从0开始|
|4|泛型类型或参数类型类名|

## 1.30. 方法通过throw抛出的异常信息

- 文件名

method_throw

- 文件说明

方法中throw的异常信息，包括抛出catch的异常对象，抛出方法调用返回值等情况

- 文件各列内容说明

|序号|说明|
|---|---|
|1|完整方法（类名+方法名+参数）|
|2|throw指令的偏移量|
|3|throw的代码行号|
|4|序号，从0开始，大于0代表有多种可能|
|5|throw的异常类型|
|6|throw的标志，ce:catch的异常对象，mcr:方法调用返回值，unk:未知情况|
|7|抛出异常属于catch的异常对象时，对应的catch代码块开始指令偏移量|
|8|抛出异常对应的catch的异常对象变量名称|
|9|抛出异常属于方法调用返回值时，对应的方法调用ID|

## 1.31. MyBatis的Entity与数据库字段名信息（使用MySQL）

- 文件名

mybatis_ms_column

- 文件说明

使用MySQL时，MyBatis的Entity与数据库字段名对应关系信息

- 文件各列内容说明

|序号|说明|
|---|---|
|1|MyBatis的Entity类名|
|2|Entity中的字段名称|
|3|数据库表中的字段名称|
|4|MyBatis XML文件路径|

## 1.32. MyBatis的Entity与Mapper、表名（使用MySQL）

- 文件名

mybatis_ms_entity

- 文件说明

使用MySQL时，MyBatis的Entity类名与Mapper类名、数据库表名

- 文件各列内容说明

|序号|说明|
|---|---|
|1|MyBatis Mapper接口类名|
|2|MyBatis的Entity类名|
|3|数据库表名|
|4|MyBatis XML文件路径|

## 1.33. 使用MyBatis时get/set方法所关联的数据库信息（使用MySQL）

- 文件名

mybatis_ms_get_set

- 文件说明

使用MySQL时，Java代码中的get/set方法通过MyBatis XML所关联的数据库信息

- 文件各列内容说明

|序号|说明|
|---|---|
|1|记录id，从1开始|
|2|通过get/set方法关联的字段关系id，从1开始|
|3|对应get方法还是set方法|
|4|get方法对应的方法调用ID，从1开始|
|5|set方法对应的方法调用ID，从1开始|
|6|数据库操作，包含sql语句，除select、insert、update、delete外，后面可能加上@set、@where|
|7|数据库表名（MyBatis XML中可能使用函数，长度需要长一些）|
|8|数据库字段名（MyBatis XML中可能使用函数，长度需要长一些）|
|9|MyBatis字段与Java代码字段关联方式描述，参考 MyBatisColumnRelateDescEnum 枚举类|

## 1.34. MyBatis的XML中select的字段信息（使用MySQL）

- 文件名

mybatis_ms_select_column

- 文件说明

使用MySQL时，MyBatis的XML文件中select的字段及相关的表名与别名

- 文件各列内容说明

|序号|说明|
|---|---|
|1|MyBatis Mapper接口类名|
|2|MyBatis Mapper方法名|
|3|数据库表名|
|4|数据库字段名|
|5|数据库字段赋值的参数名称|
|6|MyBatis XML文件路径|

## 1.35. MyBatis的XML中update set子句的字段信息（使用MySQL）

- 文件名

mybatis_ms_set_column

- 文件说明

使用MySQL时，MyBatis的XML文件中update语句的set子句中的字段与用于赋值的参数情况

- 文件各列内容说明

|序号|说明|
|---|---|
|1|MyBatis Mapper接口类名|
|2|MyBatis Mapper方法名|
|3|数据库表名|
|4|数据库字段名|
|5|数据库字段赋值的参数名称|
|6|MyBatis XML文件路径|

## 1.36. MyBatis Mapper方法操作的数据库表信息（使用MySQL）

- 文件名

mybatis_ms_table

- 文件说明

使用MySQL时，MyBatis的Mapper接口方法中涉及到的数据库表信息

- 文件各列内容说明

|序号|说明|
|---|---|
|1|MyBatis Mapper接口类名|
|2|MyBatis Mapper方法名|
|3|sql语句类型|
|4|数据库表序号|
|5|数据库表名|
|6|MyBatis XML文件路径|

## 1.37. MyBatis的XML中where子句的字段信息（使用MySQL）

- 文件名

mybatis_ms_where_column

- 文件说明

使用MySQL时，MyBatis的XML文件中where子句中的字段与用于比较的参数情况

- 文件各列内容说明

|序号|说明|
|---|---|
|1|MyBatis Mapper接口类名|
|2|MyBatis Mapper方法名|
|3|数据库表名|
|4|数据库字段名|
|5|数据库字段进行比较的方式|
|6|数据库字段用于比较的参数名|
|7|数据库字段用于比较的参数的使用方式，#/$|
|8|MyBatis XML文件路径|

## 1.38. MyBatis Mapper方法写的数据库表信息（使用MySQL）

- 文件名

mybatis_ms_write_table

- 文件说明

使用MySQL时，MyBatis的Mapper接口方法中进行写操作的数据库表信息

- 文件各列内容说明

|序号|说明|
|---|---|
|1|MyBatis Mapper接口类名|
|2|MyBatis Mapper方法名|
|3|写操作sql语句类型|
|4|数据库表名|
|5|MyBatis XML文件路径|

## 1.39. properties文件配置信息

- 文件名

properties_conf

- 文件说明

保存properties文件名，及其中的配置信息

- 文件各列内容说明

|序号|说明|
|---|---|
|1|properties配置文件路径|
|2|properties配置内容是否经过BASE64编码，1:是，0:否|
|3|properties配置名称|
|4|properties配置内容|

## 1.40. dto的set方法及字段

- 文件名

set_method

- 文件说明

dto的set方法的信息，包含对应的字段信息

- 文件各列内容说明

|序号|说明|
|---|---|
|1|完整类名|
|2|方法名|
|3|字段名|
|4|字段分类，J:JDK中的类型，C:自定义类型，GJ:集合的泛型类型，只涉及JDK中的类型，GC:集合的泛型类型，涉及自定义类型|
|5|字段类型|
|6|完整方法（类名+方法名+参数）|

## 1.41. dto的set方法被调用时的赋值信息

- 文件名

set_method_assign_info

- 文件说明

包括通过方法调用的方法参数，及方法返回值传递数据的情况

- 文件各列内容说明

|序号|说明|
|---|---|
|1|set方法记录id，从1开始|
|2|set方法被调用时的方法调用序号，从1开始|
|3|set方法当前被调用时被赋值情况的序号，从0开始|
|4|set方法当前被调用时被赋值时通过方法调用传递的步骤，从0开始|
|5|字段关联关系id，从1开始|
|6|当前的方法调用序号，从1开始|
|7|调用方，方法hash+字节数|
|8|调用方，完整方法（类名+方法名+参数）|
|9|调用方法源代码行号|
|10|被调用方，完整方法（类名+方法名+参数）|
|11|set方法hash+字节数|
|12|set方法完整方法（类名+方法名+参数）|
|13|set方法是否在超类中，1:是，0:否|
|14|set方法被调用时的赋值情况标志，见 SetMethodAssignFlagEnum 类|
|15|set方法被调用时的赋值情况标志描述|
|16|set方法被调用时的赋值信息|
|17|是否属于等值转换前的数据，1:是，0:否|

## 1.42. static、final字段初始化方法信息

- 文件名

sf_field_method_call

- 文件说明

static、final字段在初始化时使用方法调用的返回值，保存这些字段及初始化方法的信息

例如： public static final ClassA = new ClassA("test1", "test2");

也支持处理枚举中的字段

- 文件各列内容说明

|序号|说明|
|---|---|
|1|字段所在的完整类名|
|2|字段名称|
|3|序号，从0开始，大于0代表有多种可能|
|4|字段初始化对应的方法调用序号，从1开始|
|5|字段类型|
|6|初始化方法被调类名|
|7|初始化方法被调用方法名|

## 1.43. Spring Bean信息

- 文件名

spring_bean

- 文件说明

Spring Bean信息，包括Bean的名称及完整类名

- 文件各列内容说明

|序号|说明|
|---|---|
|1|Spring Bean的名称|
|2|序号，从0开始，大于0代表有多种可能|
|3|完整类名|
|4|Spring Bean的定义方式，j: 在Java代码中定义，x: 在XML文件中定义|

## 1.44. Spring Controller信息

- 文件名

spring_controller

- 文件说明

通过类及方法注解定义的Spring Controller信息，包括对应的方法、Controller的URI

- 文件各列内容说明

|序号|说明|
|---|---|
|1|方法hash+字节数|
|2|序号，从0开始，大于0代表有多种可能|
|3|用于显示的URI|
|4|类上的注解path属性原始值|
|5|方法上的注解path属性原始值|
|6|注解类名|
|7|唯一类名|
|8|完整方法（类名+方法名+参数）|

## 1.45. Spring定时任务信息，通过注解定义

- 文件名

spring_task_annotation

- 文件说明

包括Spring Bean的名称、对应的方法详情信息

- 文件各列内容说明

|序号|说明|
|---|---|
|1|记录id，从1开始|
|2|方法hash+字节数|
|3|Spring Bean的名称|
|4|完整类名|
|5|方法名|
|6|类型，XML: 在XML文件中定义，annotation: 通过注解定义|
|7|完整方法（类名+方法名+参数）|

## 1.46. Spring定时任务信息，通过XML定义

- 文件名

spring_task_xml

- 文件说明

包括Spring定时任务Bean的名称及方法名称

- 文件各列内容说明

|序号|说明|
|---|---|
|1|Spring Bean的名称|
|2|方法名|

